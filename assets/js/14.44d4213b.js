(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{548:function(s,t,a){s.exports=a.p+"assets/img/commitizen1.8fcac2bc.png"},723:function(s,t,a){s.exports=a.p+"assets/img/commitizen2.bc7706ec.png"},724:function(s,t,a){s.exports=a.p+"assets/img/githooks.6cf44150.png"},725:function(s,t){s.exports="data:image/png;base64,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"},726:function(s,t,a){s.exports=a.p+"assets/img/husky2.b238ff78.png"},727:function(s,t,a){s.exports=a.p+"assets/img/husky3.842c04c4.png"},818:function(s,t,a){"use strict";a.r(t);var n=a(12),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"commitizen-的使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#commitizen-的使用"}},[s._v("#")]),s._v(" commitizen 的使用")]),s._v(" "),n("p",[s._v("每次提交代码时，都需要编写"),n("code",[s._v("Commit Message")]),s._v("，否则是不允许提交的，编写 Commit Message 需要遵循一定的范式，内容应该清晰明了，指明本次提交的目的，便于日后追踪问题，在团队的")]),s._v(" "),n("h3",{attrs:{id:"全局安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#全局安装"}},[s._v("#")]),s._v(" 全局安装")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("npm install -g commitizen\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("在项目根目录输入如下命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("commitizen init cz-conventional-changelog --save-dev --save-exact\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("上面命令做了两件事")]),s._v(" "),n("ol",[n("li",[s._v("安装模块 "),n("code",[s._v("cz-conventional-changelog")]),s._v(" 适配器")]),s._v(" "),n("li",[s._v("将"),n("code",[s._v("config.commitizen")]),s._v("配置添加到"),n("code",[s._v("package.json")]),s._v("中，如下：")])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"config"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"commitizen"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"path"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./node_modules/cz-conventional-changelog"')]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("然后使用 "),n("code",[s._v("git cz")]),s._v(" 代替 "),n("code",[s._v("git commit")]),s._v("命令，会在命令行跳出选项进行选择，如下图：\n"),n("img",{attrs:{src:a(548),alt:""}})]),s._v(" "),n("h3",{attrs:{id:"项目上安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#项目上安装"}},[s._v("#")]),s._v(" 项目上安装")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("npm i commitizen -D\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("在项目根目录输入如下命令生成选项，用来生成符合格式的 Commit message，如下图：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("npx commitizen init cz-conventional-changelog --save-dev --save-exact\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("上面的"),n("code",[s._v("config.commitizen")]),s._v("配置也在项目根目录可以创建"),n("code",[s._v(".czrc")]),s._v("文件来代替，写入：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"path"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cz-conventional-changelog"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"title"},[s._v("注意：")]),n("p",[s._v("因为是在项目上安装无法使用"),n("code",[s._v("git cz")]),s._v("命令，在"),n("code",[s._v("package.json")]),s._v("中配置，执行命令"),n("code",[s._v("npm run commit")]),s._v("进行提交")])]),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"scripts"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"commit"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git-cz"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h2",{attrs:{id:"commit-message-的标准格式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#commit-message-的标准格式"}},[s._v("#")]),s._v(" Commit Message 的标准格式")]),s._v(" "),n("p",[n("code",[s._v("Commit Message")]),s._v(" 标准格式包括三个部分：Header，Body，Footer，上面弹出的问题就是去设置这三个部分的信息。")]),s._v(" "),n("ul",[n("li",[n("p",[n("code",[s._v("Header")]),s._v("："),n("code",[s._v("Header")]),s._v("包含以下信息")]),s._v(" "),n("ol",[n("li",[n("code",[s._v("type")]),s._v("：用于说明类型\n"),n("img",{attrs:{src:a(548),alt:""}})]),s._v(" "),n("li",[n("code",[s._v("scope")]),s._v("：说明影响的范围，比如数据层、控制层、视图层等等，根据项目需求设置")]),s._v(" "),n("li",[n("code",[s._v("subject")]),s._v("：主题，简短描述")])])]),s._v(" "),n("li",[n("p",[n("code",[s._v("Body")]),s._v("：对主题的补充，详细描述")])]),s._v(" "),n("li",[n("p",[n("code",[s._v("Footer")]),s._v("：主要是一些关联 "),n("code",[s._v("issue")]),s._v(" 的操作")])])]),s._v(" "),n("p",[n("strong",[s._v("当提交完之后，可以看到如下效果")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(723),alt:""}})]),s._v(" "),n("h2",{attrs:{id:"自定义提交规范"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#自定义提交规范"}},[s._v("#")]),s._v(" 自定义提交规范")]),s._v(" "),n("p",[s._v("自定义提交规范，我们需要用到 "),n("code",[s._v("cz-customizable")]),s._v("，"),n("code",[s._v("cz-customizable")]),s._v(" 和 "),n("code",[s._v("cz-conventional-changelog")]),s._v(" 一样，都是 "),n("code",[s._v("commitizen")]),s._v("的适配器，但是 "),n("code",[s._v("cz-customizable")]),s._v(" 支持一定程度上的自定义。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("npm i cz-customizable -D\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("修改"),n("code",[s._v("package.json")]),s._v("或"),n("code",[s._v(".czrc")]),s._v("中的配置：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('{\n    "config": {\n        "commitizen": {\n            "path":"node_modules/cz-customizable"\n        }\n    }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("或")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('{\n  "path": "node_modules/cz-customizable"\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("创建"),n("code",[s._v(".cz-config.js")]),s._v("，用来自定义选项，如下列出常用的配置")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("module"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 主题长度限制")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("subjectLimit")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//默认100")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 主题分隔符")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// subjectSeparator: ":", //默认冒号')]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 提交类型前缀")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// typePrefix:"", //默认空')]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 提交类型后缀")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// typeSuffix:"", //默认空')]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 说明影响的范围，比如数据层、控制层、视图层等等，根据项目需求设置")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// scopes: [],")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 可选类型")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("types")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("value")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"init"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"init:      初始化"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("value")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"feat"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"feat:      新功能"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("value")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fix"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fix:       修复"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("value")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"docs"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"docs:      文档变更"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("value")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"style"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"style:     代码格式（不影响代码运行的变动）"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("value")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"refactor"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"refactor:  重构（既不是增加feature）,也不是修复bug"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("value")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"pref"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"pref:      性能优化"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("value")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"test"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"test:      增加测试"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("value")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"chore"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"chore:     构建过程或辅助工具的变动"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("value")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"revert"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"revert:    回退"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("value")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"build"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"build:     打包"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 步骤，即问题列表")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("messages")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("type")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"请选择提交的类型；"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("customScope")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"请输入修改的范围（可选）"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("subject")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"请简要描述提交（必填）"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("body")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"请输入详细描述（可选）"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("footer")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"请选择要关闭的issue（可选）"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("confirmCommit")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"确认要使用以上信息提交？（y/n）"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 想跳过的问题列表")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// skipQuestions: ["body", "footer"],')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br")])]),n("h2",{attrs:{id:"对commit-message进行校验"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#对commit-message进行校验"}},[s._v("#")]),s._v(" 对Commit Message进行校验")]),s._v(" "),n("p",[s._v("在前面的配置中，已经可以实现规范选项，进行规范的 "),n("code",[s._v("message")]),s._v(" 的编辑，但是如果我们忘记使用 "),n("code",[s._v("git cz")]),s._v(", 直接使用了 "),n("code",[s._v('git commit -m "my commit"')]),s._v(", "),n("code",[s._v("message")]),s._v(" 信息依然会被提交上去，项目中会出现不规范的提交 "),n("code",[s._v("message")]),s._v("，因此我们还需要 "),n("code",[s._v("commitlint")]),s._v(" + "),n("code",[s._v("husky")]),s._v(" 校验我们的提交信息是否规范。")]),s._v(" "),n("h3",{attrs:{id:"安装commitlint"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装commitlint"}},[s._v("#")]),s._v(" 安装commitlint")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("npm install @commitlint/config-conventional @commitlint/cli -D\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("在项目根目录创建文件"),n("code",[s._v("commitlint.config.js")]),s._v("，写入如下配置")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("module"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 从node_modules中解析和加载@commitlint/config-veright")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("extents")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@commitlint/config-conventional"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n        rule由name和配置数组组成\n        数组中第一位为level，可选0,1,2，0为禁用，1为输出警告信息，2为输出错误信息\n        第二位为应用与否，可选always|never\n        第三位该rule的值\n    */")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("rules")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// type 类型定义，表示 git 提交的 type 必须在以下类型范围内")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"type-enum"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"always"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"init"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"feat"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fix"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ci"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"docs"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"style"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"refactor"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"perf"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"test"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"chore"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"revert"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"build"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// <type> 不能为空")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"type-empty"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"never"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// <type> 格式 小写")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"type-case"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"always"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lower-case"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 影响的范围为空禁用，即<scope>可以为空")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"scope-empty"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// <scope> 格式 小写")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"scope-case"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"always"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lower-case"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// <subject> 不能为空")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"subject-empty"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"never"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// <body> 不能为空")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// "body-empty": [2, "never"],')]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// <body> 以空行开头")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// "body-leading-blank": [1, "always"],')]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// <footer> 以空行开头")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// "footer-leading-blank": [1, "always"],')]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br")])]),n("h3",{attrs:{id:"git-hooks介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#git-hooks介绍"}},[s._v("#")]),s._v(" Git Hooks介绍")]),s._v(" "),n("p",[s._v("在 Git 中也有许多的事件（"),n("code",[s._v("commit")]),s._v("、"),n("code",[s._v("push")]),s._v(" 等等），每个事件也是对应了有不同的钩子的（如 "),n("code",[s._v("commit")]),s._v(" 前，"),n("code",[s._v("commit")]),s._v(" 后），那么我们就可以在这些钩子这里配置一些自己需要执行的操作来实现各种各样的需求。")]),s._v(" "),n("p",[s._v("Git Hooks 的实现其实非常简单，就是在"),n("code",[s._v(".git/hooks")]),s._v("文件下，保存了一些 "),n("code",[s._v("shell")]),s._v(" 脚本，然后在对应的钩子中执行这些脚本就行了。比如下图中，这是一个还没有配置 "),n("code",[s._v("Git Hooks")]),s._v(" 的仓库，默认会有很多"),n("code",[s._v(".sample")]),s._v("结尾的文件，这些都是示例文件，如果要生效，去掉.sample后缀即可。")]),s._v(" "),n("p",[n("img",{attrs:{src:a(724),alt:""}})]),s._v(" "),n("p",[s._v("我们知道"),n("code",[s._v("Git Hook")]),s._v(" 保存在 "),n("code",[s._v(".git")]),s._v(" 文件夹中，因为"),n("code",[s._v(".git")]),s._v("是没法上传到远程仓库的，我们在本地配置好 "),n("code",[s._v("Git Hook")]),s._v(" 后，怎么分享给其他人呢？这时候，就需要用到 "),n("code",[s._v("Husky")]),s._v("插件了。 "),n("code",[s._v("Husky")]),s._v("插件能在git钩子执行阶段中插入其他命令，来执行其他功能")]),s._v(" "),n("h3",{attrs:{id:"安装husky"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装husky"}},[s._v("#")]),s._v(" 安装husky")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("npm install husky -D\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("执行如下命令，启动"),n("code",[s._v("GitHooks")]),s._v("，")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("npx husky\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("生成如下文件")]),s._v(" "),n("p",[n("img",{attrs:{src:a(725),alt:""}})]),s._v(" "),n("p",[s._v("在"),n("code",[s._v("package.json")]),s._v("添加如下配置，当别人克隆仓库安装依赖时，自动启用GitHooks")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"scripts"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"prepare"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"husky install"')]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("添加 "),n("code",[s._v("commitlint")]),s._v(" 的 "),n("code",[s._v("hook")]),s._v(" 到 "),n("code",[s._v("husky")]),s._v(" 中，在 "),n("code",[s._v("commit-msg")]),s._v("钩子时进行校验")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('npx husky add .husky/commit-msg \'npx --no -- commitlint --edit $1\'\n// 上面失效用下面的\nnpx husky add .husky/commit-msg \\"npx --no -- commitlint --edit $1\\"\n或者\nnpx husky add .husky/commit-msg "npx --no -- commitlint --edit $1"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("生成如下文件：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(726),alt:""}})]),s._v(" "),n("p",[s._v("然后进行提交 "),n("code",[s._v("npm run commit")]),s._v("，如果没有通过commitlint的校验，会生成如下错误信息。\n"),n("img",{attrs:{src:a(727),alt:""}})]),s._v(" "),n("h3",{attrs:{id:"使用lint-staged"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用lint-staged"}},[s._v("#")]),s._v(" 使用lint-staged")]),s._v(" "),n("p",[n("code",[s._v("lint-staged")]),s._v("能够帮助你在提交之前，根据代码质量工具，如Prettier和ESLint，执行自动修复")]),s._v(" "),n("ol",[n("li",[s._v("安装")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("npm i lint-staged -D\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ol",{attrs:{start:"2"}},[n("li",[s._v("在"),n("code",[s._v("package.json")]),s._v("中写入"),n("code",[s._v("lint-staged")]),s._v("的命令")])]),s._v(" "),n("div",{staticClass:"language-json line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"script"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"lint:lint-staged"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lint-staged"')]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("ol",{attrs:{start:"3"}},[n("li",[s._v("然后添加"),n("code",[s._v("npm run lint:lint-staged")]),s._v("命令到pre-commit钩子上")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('npx husky add .husky/pre-commit "npm run lint:lint-staged"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ol",{attrs:{start:"4"}},[n("li",[s._v("新建"),n("code",[s._v(".lintstagedrc.js")]),s._v(" 文件，写入要执行的命令，提交代码时就会执行")])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("module"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'*.{js,jsx,ts,tsx}'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'eslint --fix'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'prettier --write'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);